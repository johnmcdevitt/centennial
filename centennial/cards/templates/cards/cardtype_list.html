{% extends "base.html" %}

  {% block content %}
    <br>
<<<<<<< HEAD

    {% csrf_token %}
    <div class="modal fade" tabindex="-1" role="dialog" id="modal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
        </div>
      </div>
    </div>

    <div class="jumbotron">
      <table class="typelist">
        {% for t in cardtypes %}
          <tr>
            <td><div class="color_box" style="background-color: #{{t.color}};">&nbsp;</div></td>
            <td><div class="type_name">{{t}}</div></td>
            <td><div class="card_count">{{t.cardcount}} cards</div></td>
            <td><a class="card-type-edit-form" data-id="{% url 'update-type' t.id %}"><i class="fas fa-pen"></i>edit</a></td>
          </tr>
        {% endfor %}
      </table>
      <br>
      <a href="#" class="card-type-form btn btn-light">Add new card type</a>
    </div>

<script type="text/javascript">
var csrftoken = jQuery("[name=csrfmiddlewaretoken]").val();

function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
}

// edit card modal form
$(".card-type-edit-form").each(function() {
  $(this).modalForm({
    formURL: $(this).data("id")
  })
});

// create new card modal form call
$(".card-type-form").modalForm({
  formURL: "{% url 'create-type'%}"
});

</script>
=======
    <div class="jumbotron">
      <div class="form_pane" style="display:block;" method="post">
        <form class="edit_card" action="{% url "card-types" %}" method="post">
          {% csrf_token %}
          <input type="color" name="color" value="">
          <input type="submit" name="Add new" value="">

        </form>
      </div>
      <ul>
        {% for t in cardtypes %}
          <li>
            <div class="color_box" style="background-color: #{{t.color}}">&nbsp;</div>
            <div class="type_name">{{t}}</div>
            <h3>{{t.cardcount}} cards</h3>
            <a href={% url 'edit_type_modal' t.id %}>edit</a>
          </li>
        {% endfor %}
      </ul>

    </div>

>>>>>>> master

  {% endblock %}
